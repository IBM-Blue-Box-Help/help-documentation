{"version":3,"sources":["script.js"],"names":["keydownSearch","searchClass","searchBox","classList","remove","add","label","results","x","body","nav","setTimeout","recreateList","console","log","destination","document","querySelector","searchItem","querySelectorAll","newSearchItem","i","length","itemLink","title","innerHTML","link","href","newLink","tagList","content","contentArray","split","contentToAdd","j","articleList","viewButton","clicked","addEventListener","e","preventDefault","hiddenItems","this","parentNode","style","borderLeft","toggle","expander","c","listSelector","expandLists","d","arrow","a","arrowClick","getElementById","searchIcon","CustomEvent","detail","username","tag","t","textToSearch","value","focus","sidebar","addEvent","object","type","callback","attachEvent","window","event","innerWidth","styles","display","contains"],"mappings":"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","file":"app.min.js","sourcesContent":["(function() {\n\n\n// View More functionality\nvar articleList = document.querySelectorAll('.article__list');\n\nfor (var i = 0; i < 4; i++) {\n\n  var viewButton = articleList[i].querySelector('.view');\n  console.log(viewButton);\n  var clicked = false;\n\n  viewButton.addEventListener('click', function(e) {\n    e.preventDefault();\n    var hiddenItems = this.parentNode.parentNode.querySelectorAll('.non-featured');\n    console.log(hiddenItems);\n\n    clicked = !clicked;\n\n    if (clicked === true) {\n      this.innerHTML = 'View Less';\n      this.style.borderLeft = '0';\n    } else {\n      this.innerHTML = 'View More';\n      this.style.borderLeft = '1px solid #2C3F4A';\n    }\n\n    // View more animation\n    this.classList.toggle('slide');\n\n    // Hide/Show all hiddenItems\n    for (var j = 0; j < hiddenItems.length; j++) {\n      hiddenItems[j].classList.toggle('hidden');\n    }\n\n  }, false);\n}\n\n// Hide Nav Sections\nvar expander = document.querySelectorAll('.expand');\n\nfor (var c = 0; c < expander.length; c++){\n\n  expander[c].addEventListener('click', function(e) {\n    this.classList.toggle('rotate');\n    e.preventDefault();\n    var listSelector = this.parentNode.parentNode;\n    var expandLists = listSelector.querySelectorAll('.article__list');\n\n    for (var d = 0; d < expandLists.length; d++) {\n\n      expandLists[d].classList.toggle('slide-up-hidden');\n\n    }\n  })\n}\n\n\n\n// Arrows on Nav Titles\nvar arrow = document.querySelectorAll('.expand');\n\nfor (var a = 0; a < arrow.length; a++) {\n  var arrowClick = arrow[a];\n\n  arrowClick.addEventListener('click', function(e) {\n    e.preventDefault();\n    console.log('hit');\n  })\n}\n\n// Search Box / List\nvar body = document.querySelector('body');\nvar label = document.querySelector('.search--label');\nvar resultsContainer = document.getElementById('results-container');\nvar searchBox = document.querySelector('#search-input');\nvar results = document.querySelector('.full-view__search');\nvar x = document.querySelector('.x');\nvar nav = document.querySelector('#nav-toggle');\nvar searchIcon = document.querySelector('.search-icon');\n\nvar myEvent = new CustomEvent(\"tagClick\", {\n\tdetail: {\n\t\tusername: \"davidwalsh\"\n\t}\n});\n\n// Store current search type\nvar searchClass = searchBox.classList[0];\n\nfunction keydownSearch() {\n    if (searchClass[0] === 'search__minview') {\n      searchBox.classList.remove('search__minview');\n    } else {\n      searchBox.classList.remove('search__minview--page');\n    }\n    searchBox.classList.add('search__fullview');\n\n    label.classList.add('show');\n    label.classList.remove('hide');\n    results.classList.add('show');\n    results.classList.remove('hide');\n    x.classList.add('show');\n    x.classList.remove('hide');\n    body.classList.add('no-scroll');\n    if (nav) {\n      nav.classList.add('hide');\n    }\n\n    setTimeout(function() {\n        recreateList();\n        console.log('hi');\n    }, 100);\n}\n\nsearchIcon.addEventListener('click', keydownSearch);\n\nsearchBox.addEventListener('focusin', keydownSearch);\n\nsearchBox.addEventListener('keydown', keydownSearch);\n\nsearchBox.addEventListener('focusout', function(e) {\n  if (e) {\n    return true;\n  } else {\n\n    if (searchClass === 'search__minview') {\n      searchBox.classList.add('search__minview');\n    } else {\n      searchBox.classList.add('search__minview--page');\n    }\n\n    results.classList.add('hide');\n    results.classList.remove('show');\n    label.classList.add('hide');\n    label.classList.remove('show');\n    x.classList.add('hide');\n    x.classList.remove('show');\n    searchBox.classList.remove('search__fullview');\n    body.classList.toggle('no-scroll');\n    nav.classList.remove('hide');\n  }\n})\n\nx.addEventListener('click', function(e) {\n  e.preventDefault();\n\n  if (searchClass === 'search__minview') {\n    searchBox.classList.add('search__minview');\n  } else {\n    searchBox.classList.add('search__minview--page');\n  }\n\n  results.classList.add('hide');\n  results.classList.remove('show');\n  label.classList.add('hide');\n  label.classList.remove('show');\n  x.classList.add('hide');\n  x.classList.remove('show');\n  searchBox.classList.toggle('search__fullview');\n  body.classList.toggle('no-scroll');\n  nav.classList.remove('hide');\n})\n\nsearchBox.addEventListener('input', keydownSearch);\n\nfunction recreateList() {\n  var destination = document.querySelector('.results--container');\n  var searchItem = document.querySelectorAll('.search-item');\n  var newSearchItem = '';\n\n  for (var i = 0; i < searchItem.length; i++) {\n    newSearchItem += '<li class=\"search--item\">';\n    var itemLink = searchItem[i].querySelector('.item-title');\n    var title = itemLink.innerHTML;\n    var link = itemLink.href;\n    var newLink = '<a href=\"' + link + '\" class=\"item--title\">' + title;\n\n    newSearchItem += newLink;\n\n    var tagList = searchItem[i].querySelector('.tag--list');\n\n    var content = tagList.innerHTML;\n    var contentArray = content.split(',');\n    var contentToAdd = '<ul class=\"tag--list\">';\n    if (contentArray[0] !== '{tags}') {\n      for (var j = 0; j < contentArray.length; j++) {\n        contentToAdd += '<li class=\"tag\">' + contentArray[j] + '</li>';\n      }\n    }\n\n    newSearchItem += contentToAdd + '</ul></a></li>';\n\n   }\n   console.log(newSearchItem);\n  destination.innerHTML = newSearchItem;\n}\n\n// TAG test\nvar tag = document.querySelectorAll('.tag p');\n\nfor (var t = 0; t < tag.length; t++) {\n  tag[t].addEventListener('click', function() {\n    textToSearch = this.innerHTML;\n    searchBox.value = textToSearch;\n    searchBox.focus();\n  })\n};\n\n// // Card flip\n// var cards = document.querySelectorAll('.flip-container');\n//\n// for (var c = 0; c < cards.length; c++) {\n//   var card = cards[c];\n//   card.addEventListener('click', function(e) {\n//     e.preventDefault();\n//     card.classList.toggle('flip');\n//   })\n// }\n\n\n// NAV TOGGLE\nvar sidebar = document.querySelector('.sidebar');\n\nvar addEvent = function(object, type, callback) {\n    if (object == null || typeof(object) == 'undefined') return;\n    if (object.addEventListener) {\n        object.addEventListener(type, callback, false);\n    } else if (object.attachEvent) {\n        object.attachEvent(\"on\" + type, callback);\n    } else {\n        object[\"on\"+type] = callback;\n    }\n};\n\nif (sidebar) {\n  addEvent(window, \"resize\", function(event) {\n    if (window.innerWidth < 768) {\n      sidebar.classList.add('sidebar--toggled');\n      sidebar.styles.display = \"none\";\n\n    } else {\n      sidebar.classList.remove('sidebar--toggled');\n      sidebar.classList.remove('sidebar--mobile');\n    }\n\n    if (sidebar.classList.contains('sidebar--toggled')) {\n      body.classList.remove('no-scroll');\n      nav.classList.remove('active');\n    }\n\n    if (sidebar.classList.contains('sidebar--mobile')) {\n      body.classList.remove('no-scroll');\n    }\n\n  });\n\n  if (window.innerWidth < 768) {\n    sidebar.classList.add('sidebar--toggled');\n  } else {\n    sidebar.classList.add('sidebar');\n    sidebar.classList.remove('sidebar--toggled');\n  }\n}\n\nif (nav.classList.contains('sidebar--toggled')) {\n  nav.classList.add('active');\n} else {\n  nav.classList.remove('active');\n}\n\nif (nav) {\n  nav.addEventListener('click', function() {\n    this.classList.toggle('active');\n\n\n    if (window.innerWidth < 768) {\n      if ( sidebar.classList.contains('sidebar--toggled') ) {\n        sidebar.classList.remove('sidebar--toggled');\n        sidebar.classList.add('sidebar--mobile');\n        body.classList.add('no-scroll');\n      } else {\n        sidebar.classList.add('sidebar--toggled');\n        body.classList.remove('no-scroll');\n      }\n    } else {\n      if ( sidebar.classList.contains('sidebar--toggled') ) {\n        sidebar.classList.remove('sidebar--toggled');\n      } else {\n        sidebar.classList.add('sidebar--toggled');\n      }\n    }\n  })\n}\n\n\n})()\n"],"sourceRoot":"/source/"}